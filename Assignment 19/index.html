<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2018 by ruixie123 (http://jsbin.com/jubilux/3/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
<meta name="description" content="LA 458 rui xie Assignment 19">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Rui Xie</title>
<!--External CSS-->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	
	<link rel="stylesheet" href="http://129.186.142.145/indicators/classes/leaflet-awesome-markers/dist/leaflet.awesome-markers.css">
	

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	
	<link rel="stylesheet" href="http://code.ionicframework.com/ionicons/1.5.2/css/ionicons.min.css">
	
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
	
	
	<!--External JS-->	
	<script src="https://code.jquery.com/jquery-2.2.4.js"></script>

    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
	

   <script src="http://129.186.142.145/indicators/classes/leaflet-awesome-markers/dist/leaflet.awesome-markers.js"></script>	
	
		<script src="https://indicator.extension.iastate.edu/classes/leaflet-ajax-gh-pages/dist/leaflet.ajax.min.js"></script>
  
<style id="jsbin-css">

#map { 
			position:relative;
   width: 500px;
	  height: 400px;
			margin: 40px; 
			padding: 0px;
   margin-right: auto;
	  margin-left: auto;
	}
#header, #footer {
	clear: both;
	padding: 15px;
	background-color: tan;
	color: brown;
	text-align: left;
}

#container {
	background-color: tan;
 text-align: center;
	width: 800px;
	height: 850px;
	margin-right: auto;
	margin-left: auto;
 border-style: solid;
 border-width: 30px;
}

</style>
</head>
<body>
<script src="https://code.jquery.com/jquery-2.2.4.js"></script>
<body>
  <div id="container">
     <div id = "header">
        <h2>Rui Xie LA 458 </h2>
        <h3> Assignment 19</h3>
     </div><br>
	<button onclick="getLocation()">Get location</button>

	<div id = "myLocation">my location is not set</div>		

<div id="map"></div>

<script id="jsbin-javascript">
var map = L.map('map').setView([41.87811, 17.62979], 2);
// adding an OpenStreetMap tile layer
var OpenStreetMap_Mapnik = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
	maxZoom: 19,
	attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);



//Load existing points as circles from var locations. This is initially loaded in a <head><script>

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        $("#myLocation").html("Geolocation is not supported by this browser.");
    }
}
map.locate({setView: true, maxZoom: 16});

function showPosition(position) {
	 $("#myLocation").html("Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude);
}

// code for geolocation
function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        $("#myLocation").html("Geolocation is not supported by this browser.");
    }
}
map.locate({setView: true, maxZoom: 16});
function showPosition(position) {
	 $("#myLocation").html("Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude);
  
  // code for marker
   var marker=L.marker([position.coords.latitude, position.coords.longitude]).addTo(map);
    marker.bindPopup("Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude).openPopup();
}
</script>